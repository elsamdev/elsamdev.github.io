<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slider</title>
</head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flickity/2.2.2/flickity.min.css" />
<style>
    @font-face {
        font-family: 'BetmRounded';
        src: url('fonts/BetmRounded-Black.ttf') format('truetype')
            /* Black */
            ,
            url('fonts/BetmRounded-ExtraBlack.ttf') format('truetype')
            /* ExtraBlack */
            ,
            url('fonts/BetmRounded-Regular.ttf') format('truetype')
            /* Regular */
            ,
            url('fonts/BetmRounded-SemiBold.ttf') format('truetype')
            /* SemiBold */
            ,
            url('fonts/BetmRounded-SemiLight.ttf') format('truetype')
            /* SemiLight */
        ;
    }

    :root {
        --maingray-color: #d6dce8;
        --maingray-color-reverse: #c8cdd8;
        --main-color: #ee0451;
        --lightbg-color: #eef4f7;
        --yellow-color: #ffd400;
        --darklight-color: #dde5ee;
        --darkblack-color: #171717;
        --lightblack-color: #2a2a2a;
        --ultralightblakc-color: #3f3f51;
        --darkwhite-color: #dde5ee;
        --purlple-color: #654eb2;
        --green-color: #16bb77;
        --red-color: #eb2743;
    }

    * {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
    }


    body,
    html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        font-family: Arial, sans-serif;
    }

    .slider-container {
        width: 100%;
        overflow: hidden;
    }

    .slider {
        display: flex;
        transition: transform 0.3s ease-out;
        /* Make transitions smooth */
        will-change: transform;
        cursor: grab;
    }

    .slider-item {
        flex: 0 0 33.33%;
        height: 300px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        color: var(--lightblack-color);
        font-size: 24px;
        background-color: var(--maingray-color);
    }

    .grabbing {
        cursor: grabbing;
    }



    .icon {
        flex: 1;
        font-size: 48px;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        background-color: var();
        position: relative;
    }

    .icon i {
        position: absolute;
        transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.320, 1.275);
    }

    .action-button {
        position: absolute;
        padding: 20px 21px;
        background-color: var(--green-color);
        border: none;

        color: #000;
        font-weight: bold;
        text-align: center;
        text-decoration: none;
        transition: background-color 0.3s ease;
        cursor: pointer;
        right: 0;
        bottom: 25px;
    }

    .action-button:focus {
        outline: none;
        background-color: var();
    }

    .button-container {
        width: 100%;
        height: 30%;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        /* background-color: #2178a0; */
    }

    .button {
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        width: 90%;
        height: 85%;
        border: none;
        background-color: var(--maingray-color);
        color: var(--lightblack-color);
        font-weight: 300;
        font-size: 20px;
        cursor: pointer;
        border-radius: 10px;
        border: #029357 solid 4px;
        box-shadow: 0px 5px #046d41, inset 0px 0px 0px 2px #2fd792;
        /* transition: all .2 cubic-bezier(0.000, 0.805, 0.000, 0.995); */
        /* transition: all 0.3s cubic-bezier(0.47, 1.8, 0.41, 0.8); */

        /* Transición con cubic-bezier para el rebote */
        transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.320, 1.275);
        position: absolute;
        top: -1px;
        transform: translate(0);
    }



    .button-yellow {
        border: #fec902 solid 4px;
        box-shadow: 0px 5px #be8d15, inset 0px 0px 0px 2px #fee15a;
    }

    .button-blue {
        border: #1c9cd3 solid 4px;
        box-shadow: 0px 5px #2178a0, inset 0px 0px 0px 2px #41b8f7;
    }

    .button-black {
        border: var(--lightblack-color) solid 4px;
        box-shadow: 0px 5px var(--darkblack-color), inset 0px 0px 0px 2px var(--ultralightblakc-color);
    }


    .button-yellow:active {
        box-shadow: inset 0px 0px 0px 2px #fee15a;
    }

    .button-blue:active {

        box-shadow: inset 0px 0px 0px 2px #41b8f7;
    }

    .button-black:active {

        box-shadow: inset 0px 0px 0px 2px var(--ultralightblakc-color);
    }

    .button-green:active {
        box-shadow: inset 0px 0px 0px 2px #2fd792;
    }

    .button:active {
        transform: translateY(5px);
        background-color: var(--maingray-color-reverse);
        transition: all .3 cubic-bezier(0.000, 0.805, 0.000, 0.995);
    }
</style>

<body>
    <div class="slider-container">
        <div class="slider">
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="button-container">
                    <button class="button button-green">
                        <i class="fas fa-heart"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="button-container">
                    <button class="button button-green">
                        <i class="fas fa-space-shuttle"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-bank"></i>
                </div>
                <div class="button-container">
                    <button class="button button-green">
                        <i class="fas fa-bank"></i>Botón
                    </button>
                </div>
            </div>


            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="button-container">
                    <button class="button button-blue">
                        <i class="fas fa-heart"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="button-container">
                    <button class="button button-blue">
                        <i class="fas fa-space-shuttle"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-bank"></i>
                </div>
                <div class="button-container">
                    <button class="button button-blue">
                        <i class="fas fa-bank"></i>Botón
                    </button>
                </div>
            </div>

            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="button-container">
                    <button class="button button-yellow">
                        <i class="fas fa-heart"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="button-container">
                    <button class="button button-yellow">
                        <i class="fas fa-space-shuttle"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-bank"></i>
                </div>
                <div class="button-container">
                    <button class="button button-yellow">
                        <i class="fas fa-bank"></i>Botón
                    </button>
                </div>
            </div>

            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="button-container">
                    <button class="button button-black">
                        <i class="fas fa-heart"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <div class="button-container">
                    <button class="button button-black">
                        <i class="fas fa-space-shuttle"></i>Botón
                    </button>
                </div>
            </div>
            <div class="slider-item">
                <div class="icon">
                    <i class="fas fa-bank"></i>
                </div>
                <div class="button-container">
                    <button class="button button-black">
                        <i class="fas fa-bank"></i>Botón
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const slider = document.querySelector('.slider');
            let isDragging = false;
            let startPos = 0;
            let startTime = 0;
            let transform = 0;
            let lastTransform = 0;
            let sliderWidth = slider.scrollWidth - slider.clientWidth;
            let velocity = 0;

            function updateSliderWidth() {
                sliderWidth = slider.scrollWidth - slider.clientWidth;
                if (-lastTransform > sliderWidth) {
                    lastTransform = -sliderWidth;
                    slider.style.transform = `translateX(${lastTransform}px)`;
                }
            }

            window.addEventListener('resize', updateSliderWidth);

            // Unified function for handling start of interaction
            function startInteraction(startX) {
                isDragging = true;
                startPos = startX;
                startTime = Date.now();
                slider.classList.add('grabbing');
                slider.style.transition = 'none'; // Remove transition for real-time tracking
            }

            // Unified function for handling movement
            function moveInteraction(currentPos) {
                if (!isDragging) return;
                const dx = currentPos - startPos;
                let tentativeTransform = lastTransform + dx;
                velocity = dx / (Date.now() - startTime); // Calculate velocity for momentum

                // Elastic effect
                if (tentativeTransform > 0) {
                    tentativeTransform = dx / 5;
                } else if (tentativeTransform < -sliderWidth) {
                    tentativeTransform = -sliderWidth + (dx / 5);
                }

                transform = tentativeTransform;
                slider.style.transform = `translateX(${transform}px)`;
            }

            // Unified function for ending interaction
            function endInteraction(currentPos) {
                if (!isDragging) return;
                isDragging = false;
                slider.classList.remove('grabbing');

                const dx = currentPos - startPos;
                let newTransform = lastTransform + dx + (velocity * 800); // Momentum effect, adjust 800 to control overshoot

                if (newTransform > 0) {
                    newTransform = 0;
                } else if (newTransform < -sliderWidth) {
                    newTransform = -sliderWidth;
                }

                slider.style.transform = `translateX(${newTransform}px)`;
                slider.style.transition = 'transform 0.5s cubic-bezier(0.33, 1, 0.68, 1)'; // Smooth deceleration
                lastTransform = newTransform;
            }

            // Mouse events
            slider.addEventListener('mousedown', e => startInteraction(e.clientX));
            window.addEventListener('mousemove', e => moveInteraction(e.clientX));
            window.addEventListener('mouseup', e => endInteraction(e.clientX));

            // Touch events
            slider.addEventListener('touchstart', e => startInteraction(e.touches[0].clientX));
            window.addEventListener('touchmove', e => moveInteraction(e.touches[0].clientX));
            window.addEventListener('touchend', e => endInteraction(e.changedTouches[0].clientX));
        });



    </script>
</body>

</html>